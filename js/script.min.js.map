{"version":3,"sources":["banner.js","filter.js","map.js","modal.js"],"names":["banners","document","querySelectorAll","length","forEach","container","banner","querySelector","btn","swiper","Swiper","loop","speed","autoplay","delay","pagination","el","bulletActiveClass","bulletClass","bulletElement","clickable","on","index","swiperObj","activeIndex","slide","slides","body","style","backgroundColor","dataset","bgColor","ariaLabel","product","filters","slider","filter","title","inputMin","inputMax","noUiSlider","create","start","Number","value","connect","range","min","max","format","to","Math","round","from","values","handle","textContent","mapSections","map","mapSection","ymaps","ready","myMap","Map","center","zoom","controls","behaviors","myPlacemark","Placemark","iconLayout","iconImageHref","iconImageSize","iconImageOffset","geoObjects","add","options","set","routeBtn","get","routePanel","state","modal","contactBtn","modalBtnClose","closeModal","classList","remove","window","removeEventListener","escKeydownHandler","focusLock","off","evt","keyCode","preventDefault","addEventListener","target"],"mappings":"cAEA,KACA,MAAAA,EAAAC,SAAAC,iBAAA,WACAF,EAAAG,QAIAH,EAAAI,QAAA,IACA,IAAAC,EAAAC,EAAAC,cAAA,qBACA,MAAAC,EAAAF,EAAAC,cAAA,oBAEAE,EAAA,IAAAC,OAAAL,EAAA,CACAM,MAAA,EACAC,MAAA,IACAC,SAAA,CACAC,MAAA,KAEAC,WAAA,CACAC,GAAA,qBACAC,kBAAA,6BACAC,YAAA,uBACAC,cAAA,SACAC,WAAA,KAIAX,EAAAY,GAAA,oBAAA,IACA,IAAAC,EAAAC,EAAAC,YACAC,EAAAF,EAAAG,OAAAJ,GACArB,SAAA0B,KAAAC,MAAAC,gBAAAJ,EAAAK,QAAAC,QACAvB,EAAAwB,oBAAAP,EAAAK,QAAAG,eA7BA,ICAA,KACA,MAAAC,EAAAjC,SAAAC,iBAAA,YACAgC,EAAA/B,QAKA+B,EAAA9B,QAAA,IACA,MAAA+B,EAAAC,EAAA7B,cAAA,WACA,GAAA4B,EAAA,CAIA,MAAAE,EAAAD,EAAA7B,cAAA,0BACA+B,EAAAF,EAAA7B,cAAA,wBACAgC,EAAAH,EAAA7B,cAAA,wBAEAiC,WAAAC,OAAAN,EAAA,CACAO,MAAA,CAAAC,OAAAL,EAAAM,OAAAD,OAAAJ,EAAAK,QACAC,SAAA,EACAC,MAAA,CACAC,IAAAJ,OAAAL,EAAAS,KACAC,IAAAL,OAAAL,EAAAU,MAEAC,OAAA,CACAC,GAAA,SAAAN,GACA,OAAAO,KAAAC,MAAAR,IAEAS,KAAA,SAAAT,GACA,OAAAA,MAKAT,EAAAK,WAAAnB,GAAA,SAAA,CAAAiC,EAAAC,KACA,OAAAA,GACA,KAAA,EACAjB,EAAAM,MAAAU,EAAA,GACA,MACA,KAAA,EACAf,EAAAK,MAAAU,EAAA,GAGAjB,EAAAmB,qBAAAF,EAAA,UAAAA,EAAA,cA3CA,ICAA,KACA,MAAAG,EAAAxD,SAAAC,iBAAA,QACAuD,EAAAtD,QAIAsD,EAAArD,QAAA,IACA,IAAAsD,EAAAC,EAAApD,cAAA,gBACAmD,GAkCAE,MAAAC,MA9BA,KACA,MAAAC,EAAA,IAAAF,MAAAG,IAAAL,EAAA,CAEAM,OAAA,CAAA,UAAA,WAEAC,KAAA,GAEAC,SAAA,CAAA,cAAA,eAAA,sBAEAC,UAAA,CAAA,eAAA,OAAA,gBAIA,IAAAC,EAAA,IAAAR,MAAAS,UAAA,CAAA,UAAA,WAAA,GAAA,CACAC,WAAA,gBACAC,cAAA,mBACAC,cAAA,CAAA,GAAA,KACAC,gBAAA,EAAA,IAAA,OAIAX,EAAAY,WAAAC,IAAAP,GAEAN,EAAAc,QAAAC,IAAA,oCAAA,GAEA,MAAAC,EAAAhB,EAAAI,SAAAa,IAAA,sBACAD,EAAAE,WAAAC,MAAAJ,IAAA,KAAA,sDAtCA,ICAA,KACA,MAAAK,EAAAjF,SAAAM,cAAA,UACA4E,EAAAlF,SAAAM,cAAA,iBACA,GAAA2E,GAAAC,EAAA,CAIA,MAAAC,EAAAF,EAAA3E,cAAA,iBAEA,IAAA8E,EAAA,KACAH,EAAAI,UAAAC,OAAA,eACAC,OAAAC,oBAAA,UAAAC,GACAzF,SAAA0B,KAAA2D,UAAAC,OAAA,eACAI,UAAAC,IAAAV,IAGA,MAAAQ,EAAA,IACA,KAAAG,EAAAC,UACAD,EAAAE,iBACAV,MAqBAF,EAAAa,iBAAA,QAjBA,KACAd,EAAAI,UAAAX,IAAA,eACAa,OAAAQ,iBAAA,UAAAN,GACAzF,SAAA0B,KAAA2D,UAAAX,IAAA,eACAgB,UAAAtE,GAAA6D,KAcAE,EAAAY,iBAAA,QAXA,KACAX,MAWAH,EAAAc,iBAAA,QARA,IACAH,EAAAI,SAAAf,GACAG,QApCA","file":"script.min.js","sourcesContent":["'use strict';\n\n(()=> {\n  const banners = document.querySelectorAll('.banner');\n  if (!banners.length) {\n    return;\n  }\n\n  banners.forEach((banner) => {\n    const container = banner.querySelector('.swiper-container');\n    const btn = banner.querySelector('.banner__btn-buy');\n\n    const swiper = new Swiper(container, { // eslint-disable-line no-undef\n      loop: true,\n      speed: 800,\n      autoplay: {\n        delay: 5000,\n      },\n      pagination: {\n        el: '.swiper-pagination',\n        bulletActiveClass: 'banner__controls-btn--actv',\n        bulletClass: 'banner__controls-btn',\n        bulletElement: 'button',\n        clickable: true,\n      },\n    });\n\n    swiper.on('activeIndexChange', (swiperObj) => {\n      const index = swiperObj.activeIndex;\n      const slide = swiperObj.slides[index];\n      document.body.style.backgroundColor = slide.dataset.bgColor;\n      btn.ariaLabel = `Купить ${slide.dataset.product}`;\n    });\n  });\n})();\n","'use strict';\n\n(()=> {\n  const filters = document.querySelectorAll('.filters');\n  if (!filters.length) {\n    return;\n  }\n\n  // slider\n  filters.forEach((filter) => {\n    const slider = filter.querySelector('#slider');\n    if (!slider) {\n      return;\n    }\n\n    const title = filter.querySelector('.filters__title--price');\n    const inputMin = filter.querySelector('.filters__price--min');\n    const inputMax = filter.querySelector('.filters__price--max');\n\n    noUiSlider.create(slider, { // eslint-disable-line no-undef\n      start: [Number(inputMin.value), Number(inputMax.value)],\n      connect: true,\n      range: {\n        min: Number(inputMin.min),\n        max: Number(inputMin.max),\n      },\n      format: {\n        to(value) {\n          return Math.round(value);\n        },\n        from(value) {\n          return value;\n        },\n      },\n    });\n\n    slider.noUiSlider.on('update', (values, handle) => {\n      switch (handle) {\n        case 0:\n          inputMin.value = values[0];\n          break;\n        case 1:\n          inputMax.value = values[1];\n          break;\n      }\n      title.textContent = `Цена: ${values[0]} ₽ – ${values[1]} ₽:`;\n    });\n  });\n})();\n","'use strict';\n\n(()=> {\n  const mapSections = document.querySelectorAll('.map');\n  if (!mapSections.length) {\n    return;\n  }\n\n  mapSections.forEach((mapSection) => {\n    const map = mapSection.querySelector('.map__yandex');\n    if (!map) {\n      return;\n    }\n\n    const init = () => {\n      const myMap = new ymaps.Map(map, { // eslint-disable-line no-undef\n        // координаты центра карты\n        center: [59.939261, 30.329167],\n        // масштаб\n        zoom: 16,\n        // отображения эл. управления\n        controls: ['zoomControl', 'rulerControl', 'routeButtonControl'],\n        // типы взаимод. с картой\n        behaviors: ['dblClickZoom', 'drag', 'MultiTouch'],\n      });\n\n      // настройка метки\n      const myPlacemark = new ymaps.Placemark([59.938635, 30.323118], {}, { // eslint-disable-line no-undef\n        iconLayout: 'default#image',\n        iconImageHref: 'img/icon-pin.svg',\n        iconImageSize: [80, 140],\n        iconImageOffset: [-40, -140],\n      });\n\n      // добавление метки\n      myMap.geoObjects.add(myPlacemark);\n      // запретить интерактивность к другим данным на карте\n      myMap.options.set('yandexMapDisablePoiInteractivity', true);\n      // создает элемент маршрута\n      const routeBtn = myMap.controls.get('routeButtonControl');\n      routeBtn.routePanel.state.set('to', 'ул. Большая Конюшенная, 19/8, Санкт-Петербург');\n    };\n\n    // загрузка карты после загрузки DOM\n    ymaps.ready(init); // eslint-disable-line no-undef\n  });\n})();\n","'use strict';\n\n(()=> {\n  const modal = document.querySelector('.modal');\n  const contactBtn = document.querySelector('.contact__btn');\n  if (!modal && !contactBtn) {\n    return;\n  }\n\n  const modalBtnClose = modal.querySelector('.modal__close');\n\n  const closeModal = () => {\n    modal.classList.remove('modal--show');\n    window.removeEventListener('keydown', escKeydownHandler);\n    document.body.classList.remove('stop-scroll');\n    focusLock.off(modal); // eslint-disable-line no-undef\n  };\n\n  const escKeydownHandler = (evt) => {\n    if (evt.keyCode === 27) {\n      evt.preventDefault();\n      closeModal();\n    }\n  };\n\n  const contactBtnClickHandler = () => {\n    modal.classList.add('modal--show');\n    window.addEventListener('keydown', escKeydownHandler);\n    document.body.classList.add('stop-scroll');\n    focusLock.on(modal); // eslint-disable-line no-undef\n  };\n\n  const modalBtnCloseClickHandler = () => {\n    closeModal();\n  };\n\n  const modalClickHandler = (evt) => {\n    if (evt.target === modal) {\n      closeModal();\n    }\n  };\n\n  contactBtn.addEventListener('click', contactBtnClickHandler);\n  modalBtnClose.addEventListener('click', modalBtnCloseClickHandler);\n  modal.addEventListener('click', modalClickHandler);\n})();\n"]}